(function($){"use strict";$(window).scroll(function(){if($(this).scrollTop()>0){$(".navbar").addClass("fixed-top shadow-sm scrolled").css("position","fixed");var navbarHeight=$(".navbar").outerHeight();$("body").css("padding-top",navbarHeight)}else{$(".navbar").removeClass("fixed-top shadow-sm scrolled").css("position","");$("body").css("padding-top",0)}});$(document).ready(function(){function toggleNavbarMethod(){if($(window).width()>992){$(".navbar .dropdown").on("mouseover",function(){$(".dropdown-toggle",this).trigger("click")}).on("mouseout",function(){$(".dropdown-toggle",this).trigger("click").blur()})}else{$(".navbar .dropdown").off("mouseover").off("mouseout")}}toggleNavbarMethod();$(window).resize(toggleNavbarMethod)});$(window).scroll(function(){if($(this).scrollTop()>100){$(".back-to-top").fadeIn("slow")}else{$(".back-to-top").fadeOut("slow")}});$(".back-to-top").click(function(){$("html, body").animate({scrollTop:0},1500,"easeInOutExpo");return false});$(".testimonial-carousel").owlCarousel({autoplay:true,autoplayTimeout:5e3,autoplayHoverPause:true,smartSpeed:1e3,items:1,dots:false,loop:true,nav:true,navText:['<i class="bi bi-arrow-left"></i>','<i class="bi bi-arrow-right"></i>'],responsive:{0:{nav:false,dots:true},768:{nav:true,dots:false}}});function optimizeImages(){if("IntersectionObserver"in window){const imageObserver=new IntersectionObserver((entries,observer)=>{entries.forEach(entry=>{if(entry.isIntersecting){const img=entry.target;img.src=img.dataset.src;img.classList.remove("img-lazy");img.classList.add("loaded");imageObserver.unobserve(img)}})});document.querySelectorAll("img[data-src]").forEach(img=>{imageObserver.observe(img)})}function adjustImageSizes(){const screenWidth=$(window).width();const screenHeight=$(window).height();$('.carousel-item, .carousel-item div[style*="height"]').each(function(){let newHeight;if(screenWidth<=575){newHeight="350px"}else if(screenWidth<=767){newHeight="400px"}else if(screenWidth<=991){newHeight="450px"}else if(screenWidth<=1199){newHeight="500px"}else if(screenWidth<=1399){if(screenHeight<=768){newHeight="480px"}else{newHeight="520px"}}else{newHeight="600px"}$(this).css("height",newHeight)});$(".carousel-item img").each(function(){let newHeight;if(screenWidth<=575){newHeight="350px"}else if(screenWidth<=767){newHeight="400px"}else if(screenWidth<=991){newHeight="450px"}else if(screenWidth<=1199){newHeight="500px"}else if(screenWidth<=1399){if(screenHeight<=768){newHeight="480px";$(this).css("object-position","center top")}else{newHeight="520px";$(this).css("object-position","center")}}else{newHeight="600px";$(this).css("object-position","center")}$(this).css({height:newHeight,"object-fit":"cover",width:"100%"})});$("#header-carousel").css("max-height",$(".carousel-item").first().css("height"))}adjustImageSizes();$(window).resize(adjustImageSizes)}function initTouchSupport(){if("ontouchstart"in window||navigator.maxTouchPoints>0){$("body").addClass("touch-device");$(".btn").addClass("touch-friendly");$(".nav-link").addClass("touch-friendly");$(".btn, .nav-link, .service-item, .team-item").on("touchstart",function(){$(this).addClass("touch-active")}).on("touchend",function(){$(this).removeClass("touch-active")})}}function enhanceForms(){$("textarea").on("input",function(){this.style.height="auto";this.style.height=this.scrollHeight+"px"});$("form").on("submit",function(e){const form=$(this);let isValid=true;form.find("input[required], select[required], textarea[required]").each(function(){if(!this.value.trim()){isValid=false;$(this).addClass("is-invalid")}else{$(this).removeClass("is-invalid")}});if(!isValid){e.preventDefault();if($(window).width()<=767){alert("Please fill in all required fields.")}else{form.find(".is-invalid").first().focus()}}})}function enhanceNavigation(){$(".navbar-toggler").on("click",function(){setTimeout(()=>{if($(".navbar-collapse").hasClass("show")){$("body").addClass("nav-open")}else{$("body").removeClass("nav-open")}},100)});$(document).on("click",function(e){if(!$(e.target).closest(".navbar").length&&$(".navbar-collapse").hasClass("show")){$(".navbar-toggler").click()}});$('a[href^="#"]').on("click",function(e){e.preventDefault();const target=$(this.getAttribute("href"));if(target.length){const offset=$(".navbar").outerHeight()+20;$("html, body").animate({scrollTop:target.offset().top-offset},1e3)}})}function optimizePerformance(){let resizeTimer;$(window).on("resize",function(){clearTimeout(resizeTimer);resizeTimer=setTimeout(function(){$(window).trigger("debouncedResize")},250)});let scrollTimer;$(window).on("scroll",function(){clearTimeout(scrollTimer);scrollTimer=setTimeout(function(){$(window).trigger("debouncedScroll")},10)})}function enhanceAccessibility(){$(".service-item, .team-item, .blog-item").attr("tabindex","0");$(".service-item, .team-item, .blog-item").on("keydown",function(e){if(e.key==="Enter"||e.key===" "){e.preventDefault();$(this).click()}});if(!$("#skip-to-main").length){$("body").prepend('<a href="#main-content" id="skip-to-main" class="sr-only sr-only-focusable">Skip to main content</a>')}if(!$("#main-content").length){$(".container-fluid").first().attr("id","main-content")}}function addResponsiveUtilities(){function updateScreenSizeClass(){const width=$(window).width();$("body").removeClass("screen-xs screen-sm screen-md screen-lg screen-xl");if(width<576){$("body").addClass("screen-xs")}else if(width<768){$("body").addClass("screen-sm")}else if(width<992){$("body").addClass("screen-md")}else if(width<1200){$("body").addClass("screen-lg")}else{$("body").addClass("screen-xl")}}updateScreenSizeClass();$(window).on("debouncedResize",updateScreenSizeClass);function adjustTextSizes(){const width=$(window).width();if(width<=575){$(".display-1").css("font-size","2rem");$(".display-4").css("font-size","1.5rem");$(".display-5").css("font-size","1.3rem")}else if(width<=767){$(".display-1").css("font-size","2.5rem");$(".display-4").css("font-size","1.8rem");$(".display-5").css("font-size","1.5rem")}else{$(".display-1, .display-4, .display-5").css("font-size","")}}adjustTextSizes();$(window).on("debouncedResize",adjustTextSizes)}function enhanceAnimations(){if(window.matchMedia("(prefers-reduced-motion: reduce)").matches){$("*").css({"animation-duration":"0.01ms !important","animation-iteration-count":"1 !important","transition-duration":"0.01ms !important"})}if("IntersectionObserver"in window){const animationObserver=new IntersectionObserver(entries=>{entries.forEach(entry=>{if(entry.isIntersecting){entry.target.classList.add("animate-in")}})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});document.querySelectorAll(".service-item, .team-item, .blog-item").forEach(el=>{animationObserver.observe(el)})}}$(document).ready(function(){optimizeImages();initTouchSupport();enhanceForms();enhanceNavigation();optimizePerformance();enhanceAccessibility();addResponsiveUtilities();enhanceAnimations();setTimeout(()=>{$("body").addClass("loaded")},100)});$(window).on("orientationchange",function(){setTimeout(()=>{$(window).trigger("resize")},500)});if("serviceWorker"in navigator){window.addEventListener("load",function(){navigator.serviceWorker.register("/sw.js").then(function(registration){console.log("ServiceWorker registration successful")},function(err){console.log("ServiceWorker registration failed")})})}})(jQuery);const style=document.createElement("style");style.textContent=`
    .touch-active {
        transform: scale(0.98);
        transition: transform 0.1s ease;
    }
    
    .animate-in {
        animation: fadeInUp 0.6s ease forwards;
    }
    
    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(30px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
    
    .sr-only {
        position: absolute !important;
        width: 1px !important;
        height: 1px !important;
        padding: 0 !important;
        margin: -1px !important;
        overflow: hidden !important;
        clip: rect(0, 0, 0, 0) !important;
        white-space: nowrap !important;
        border: 0 !important;
    }
    
    .sr-only-focusable:focus {
        position: static !important;
        width: auto !important;
        height: auto !important;
        padding: 0.5rem 1rem !important;
        margin: 0 !important;
        overflow: visible !important;
        clip: auto !important;
        white-space: normal !important;
        background: #007bff !important;
        color: white !important;
        text-decoration: none !important;
        border-radius: 0.25rem !important;
        z-index: 9999 !important;
    }
    
    @media (prefers-reduced-motion: reduce) {
        .animate-in {
            animation: none !important;
        }
    }
`;document.head.appendChild(style);